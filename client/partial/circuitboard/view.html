<div class="amy-flat-circuitboard">

    <!-- the treemap -->
	<tile-map tile-layout="rowsOfTiles">

		<amy-circuitboard-tile ng-repeat="child in children" amy-entity="child"></amy-circuitboard-tile>

	</tile-map>
    <!--<amy-treemap layout="rowsOfTiles" on-redraw="onTreemapRedraw()">-->

        <!--&lt;!&ndash; one tile for each 'child element' (of the 24 tiles) &ndash;&gt;-->
        <!--<amy-circuitboard-tile ng-repeat="child in children" amy-entity="child"></amy-circuitboard-tile>-->

    <!--</amy-treemap>-->

    <!-- semi-transparent veil to increase visibility of d3 artifacts -->
	<div ng-show="$root.connectionsEnabled || $root.simulationEnabled || $root.proteinsEnabled" class="smokescreen"></div>

    <!-- the connection-graph hovering over the treemap -->
	<amy-graph ng-if="$root.connectionsEnabled"
	           amy-active-tile-junctions="activeTileJunctions"
	           dragging="thisTile.tileHighlightingDisabled"></amy-graph>

    <!-- the connection-graph hovering over the treemap -->
    <amy-variable-glyphs ng-if="$root.simulationEnabled"
                         amy-active-tile-junctions="activeTileJunctions"
                         amy-selected-variables="selectedVariables"
                         dragging="thisTile.tileHighlightingDisabled"></amy-variable-glyphs>

    <!-- the connection-graph hovering over the treemap -->
    <amy-protein-graph ng-if="$root.proteinsEnabled"
                       amy-visible-proteins="rootTile.visibleProteins"
                         amy-active-tile-junctions="activeTileJunctions"
                         dragging="thisTile.tileHighlightingDisabled"></amy-protein-graph>

</div>

<!-- the 3D canvas -->
<amy-canvas ng-if="$root.threeDEnabled"
            amy-circuit-board-element="cbElement"
            amy-active-tiles="activeTile3Ds"
            amy-show-proteins="$root.proteinsEnabled"
            amy-visible-proteins="rootTile.visibleProteins"
            amy-margin="{ top: 15, left: 200 + 15, right: 15, bottom: ($root.simulationEnabled ? 250 : 0) + 15 }">
</amy-canvas>
